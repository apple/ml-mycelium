import{b as j,t as q}from"./index.C7bWdOrd.js";import{A as v}from"./scheduler.BZf3Antt.js";function C(n){return n?.length!==void 0?n:Array.from(n)}function D(n,u){j(n,1,1,()=>{u.delete(n.key)})}function E(n,u,r,y,h,a,s,d,t,x,p,b){let c=n.length,l=a.length,f=c;const g={};for(;f--;)g[n[f].key]=f;const _=[],m=new Map,k=new Map,A=[];for(f=l;f--;){const e=b(h,a,f),i=r(e);let o=s.get(i);o?A.push(()=>o.p(e,u)):(o=x(i,e),o.c()),m.set(i,_[f]=o),i in g&&k.set(i,Math.abs(f-g[i]))}const S=new Set,$=new Set;function M(e){q(e,1),e.m(d,p),s.set(e.key,e),p=e.first,l--}for(;c&&l;){const e=_[l-1],i=n[c-1],o=e.key,w=i.key;e===i?(p=e.first,c--,l--):m.has(w)?!s.has(o)||S.has(o)?M(e):$.has(w)?c--:k.get(o)>k.get(w)?($.add(o),M(e)):(S.add(w),c--):(t(i,s),c--)}for(;c--;){const e=n[c];m.has(e.key)||t(e,s)}for(;l;)M(_[l-1]);return v(A),_}function F(n,u){const r={},y={},h={$$scope:1};let a=n.length;for(;a--;){const s=n[a],d=u[a];if(d){for(const t in s)t in d||(y[t]=1);for(const t in d)h[t]||(r[t]=d[t],h[t]=1);n[a]=d}else for(const t in s)h[t]=1}for(const s in y)s in r||(r[s]=void 0);return r}export{C as e,F as g,D as o,E as u};
